From 0b29638b9ce4bf445c0dee1f6e2d50937cd809d1 Mon Sep 17 00:00:00 2001
From: Yuxi Sun <b36102@freescale.com>
Date: Sat, 8 Oct 2011 12:43:41 +0800
Subject: ENGR00159008-1 mx5 v4l2: build v4l2 relative modules as module mode

Change v4l2 relative modules as module mode when build kernel

Signed-off-by: Yuxi Sun <b36102@freescale.com>
---
 arch/arm/configs/imx5_defconfig |   45 ++++++++++++++++++++++++++++-----------
 1 file changed, 32 insertions(+), 13 deletions(-)

diff --git a/arch/arm/configs/imx5_defconfig b/arch/arm/configs/imx5_defconfig
index 8badcc9..be5f240 100755
--- a/arch/arm/configs/imx5_defconfig
+++ b/arch/arm/configs/imx5_defconfig
@@ -1,7 +1,7 @@
 #
 # Automatically generated make config: don't edit
 # Linux/arm 2.6.38 Kernel Configuration
-# Tue Jul 19 12:51:19 2011
+# Sat Oct  8 15:59:45 2011
 #
 CONFIG_ARM=y
 CONFIG_HAVE_PWM=y
@@ -262,6 +262,7 @@ CONFIG_IMX_HAVE_PLATFORM_IMX2_WDT=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_SRTC=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_I2C=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_SSI=y
+CONFIG_IMX_HAVE_PLATFORM_IMX_ESAI=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_UART=y
 CONFIG_IMX_HAVE_PLATFORM_MXC_PWM=y
 CONFIG_IMX_HAVE_PLATFORM_SDHCI_ESDHC_IMX=y
@@ -274,6 +275,7 @@ CONFIG_IMX_HAVE_PLATFORM_AHCI=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_IIM=y
 CONFIG_IMX_HAVE_PLATFORM_MXC_GPU=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_OCOTP=y
+CONFIG_IMX_HAVE_PLATFORM_IMX_VIIM=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_DCP=y
 CONFIG_IMX_HAVE_PLATFORM_RANDOM_RNGC=y
 CONFIG_IMX_HAVE_PLATFORM_PERFMON=y
@@ -281,7 +283,6 @@ CONFIG_IMX_HAVE_PLATFORM_LDB=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_PXP=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_EPDC=y
 CONFIG_IMX_HAVE_PLATFORM_IMX_SPDIF=y
-CONFIG_IMX_HAVE_PLATFORM_IMX_ESAI=y
 
 #
 # Freescale MXC Implementations
@@ -326,8 +327,8 @@ CONFIG_ARCH_HAS_RNGC=y
 CONFIG_ARCH_MXC_IOMUX_V3=y
 CONFIG_ARCH_MXC_AUDMUX_V2=y
 CONFIG_IRAM_ALLOC=y
-CONFIG_DMA_ZONE_SIZE=96
 CONFIG_CLK_DEBUG=y
+CONFIG_DMA_ZONE_SIZE=96
 
 #
 # System MMU
@@ -365,6 +366,7 @@ CONFIG_CPU_HAS_PMU=y
 # CONFIG_ARM_ERRATA_458693 is not set
 # CONFIG_ARM_ERRATA_460075 is not set
 # CONFIG_ARM_ERRATA_743622 is not set
+# CONFIG_ARM_ERRATA_754322 is not set
 
 #
 # Bus support
@@ -902,6 +904,7 @@ CONFIG_INPUT_TOUCHSCREEN=y
 # CONFIG_TOUCHSCREEN_DYNAPRO is not set
 # CONFIG_TOUCHSCREEN_HAMPSHIRE is not set
 # CONFIG_TOUCHSCREEN_EETI is not set
+# CONFIG_TOUCHSCREEN_EGALAX is not set
 # CONFIG_TOUCHSCREEN_FUJITSU is not set
 # CONFIG_TOUCHSCREEN_GUNZE is not set
 # CONFIG_TOUCHSCREEN_ELO is not set
@@ -998,6 +1001,7 @@ CONFIG_HW_RANDOM=y
 # CONFIG_TCG_TPM is not set
 # CONFIG_RAMOOPS is not set
 # CONFIG_MXC_IIM is not set
+# CONFIG_MXS_VIIM is not set
 CONFIG_I2C=y
 CONFIG_I2C_BOARDINFO=y
 # CONFIG_I2C_COMPAT is not set
@@ -1249,6 +1253,7 @@ CONFIG_MFD_MC13XXX=y
 # CONFIG_MFD_TPS6586X is not set
 # CONFIG_MFD_WL1273_CORE is not set
 CONFIG_MFD_MAX17135=y
+# CONFIG_MFD_MXC_HDMI is not set
 CONFIG_REGULATOR=y
 # CONFIG_REGULATOR_DEBUG is not set
 # CONFIG_REGULATOR_DUMMY is not set
@@ -1405,12 +1410,21 @@ CONFIG_VIDEO_IR_I2C=y
 # CONFIG_VIDEO_UPD64031A is not set
 # CONFIG_VIDEO_UPD64083 is not set
 # CONFIG_VIDEO_VIVI is not set
-# CONFIG_VIDEO_MXC_CAMERA is not set
+CONFIG_VIDEO_MXC_CAMERA=m
+
+#
+# MXC Camera/V4L2 PRP Features support
+#
+CONFIG_VIDEO_MXC_IPU_CAMERA=y
+# CONFIG_VIDEO_MXC_CSI_CAMERA is not set
 # CONFIG_MXC_CAMERA_MICRON111 is not set
 # CONFIG_MXC_CAMERA_OV2640 is not set
-# CONFIG_MXC_CAMERA_OV3640 is not set
-# CONFIG_MXC_CAMERA_OV5640 is not set
-# CONFIG_MXC_CAMERA_OV5642 is not set
+CONFIG_MXC_CAMERA_OV3640=m
+CONFIG_MXC_CAMERA_OV5640=m
+CONFIG_MXC_CAMERA_OV5642=m
+CONFIG_MXC_IPU_PRP_VF_SDC=m
+CONFIG_MXC_IPU_PRP_ENC=m
+CONFIG_MXC_IPU_CSI_ENC=m
 CONFIG_VIDEO_MXC_OUTPUT=y
 CONFIG_VIDEO_MXC_IPU_OUTPUT=y
 # CONFIG_VIDEO_MXC_IPUV1_WVGA_OUTPUT is not set
@@ -1556,6 +1570,7 @@ CONFIG_FB_MXC_SII902X=y
 # CONFIG_FB_MXC_ASYNC_PANEL is not set
 # CONFIG_FB_MXC_EINK_PANEL is not set
 # CONFIG_FB_MXC_ELCDIF_FB is not set
+# CONFIG_FB_MXC_HDMI is not set
 
 #
 # Console display driver support
@@ -1608,16 +1623,15 @@ CONFIG_SND_SOC=y
 CONFIG_SND_SOC_AC97_BUS=y
 CONFIG_SND_IMX_SOC=y
 CONFIG_SND_MXC_SOC_MX2=y
-CONFIG_SND_SOC_IMX_CS42888=y
-CONFIG_SND_MXC_SOC_ESAI=y
 CONFIG_SND_MXC_SOC_SPDIF_DAI=y
 CONFIG_SND_SOC_IMX_SGTL5000=y
+CONFIG_SND_SOC_IMX_CS42888=y
 CONFIG_SND_SOC_IMX_SPDIF=y
 CONFIG_SND_SOC_I2C_AND_SPI=y
 # CONFIG_SND_SOC_ALL_CODECS is not set
 CONFIG_SND_SOC_MXC_SPDIF=y
-CONFIG_SND_SOC_CS42888=y
 CONFIG_SND_SOC_SGTL5000=y
+CONFIG_SND_SOC_CS42888=y
 # CONFIG_SOUND_PRIME is not set
 CONFIG_AC97_BUS=y
 CONFIG_HID_SUPPORT=y
@@ -1794,13 +1808,13 @@ CONFIG_USB_GADGET=y
 # CONFIG_USB_GADGET_DEBUG_FS is not set
 CONFIG_USB_GADGET_VBUS_DRAW=2
 CONFIG_USB_GADGET_SELECTED=y
+CONFIG_USB_GADGET_ARC=y
+# CONFIG_USB_STATIC_IRAM_PPH is not set
+CONFIG_USB_ARC=y
 # CONFIG_USB_GADGET_FSL_USB2 is not set
 # CONFIG_USB_GADGET_R8A66597 is not set
 # CONFIG_USB_GADGET_PXA_U2O is not set
 # CONFIG_USB_GADGET_M66592 is not set
-CONFIG_USB_GADGET_ARC=y
-# CONFIG_USB_STATIC_IRAM_PPH is not set
-CONFIG_USB_ARC=y
 # CONFIG_USB_GADGET_DUMMY_HCD is not set
 CONFIG_USB_GADGET_DUALSPEED=y
 # CONFIG_USB_ZERO is not set
@@ -1937,6 +1951,7 @@ CONFIG_RTC_INTF_DEV_UIE_EMUL=y
 # CONFIG_RTC_DRV_MSM6242 is not set
 # CONFIG_RTC_MXC is not set
 CONFIG_RTC_DRV_MXC_V2=y
+# CONFIG_RTC_DRV_SNVS is not set
 # CONFIG_RTC_DRV_BQ4802 is not set
 # CONFIG_RTC_DRV_RP5C01 is not set
 # CONFIG_RTC_DRV_V3020 is not set
@@ -2067,6 +2082,10 @@ CONFIG_MXC_VPU=y
 CONFIG_MXC_AMD_GPU=y
 
 #
+# MXC GPU support
+#
+
+#
 # ANATOP_THERMAL
 #
 
-- 
1.7.9.5

